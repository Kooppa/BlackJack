(()=>{"use strict";let e=[],f=["C","D","H","S"],g=["A","J","Q","K"],h=0,i=0,a=document.querySelector("#btnPedir"),b=document.querySelector("#btnDetener"),c=document.querySelector("#btnNuevo"),j=document.querySelectorAll("small"),k=document.querySelector("#jugador-cartas"),l=document.querySelector("#computadora-cartas"),d=()=>{e=[];for(let a=2;a<=10;a++)for(let b of f)e.push(a+b);for(let c of f)for(let d of g)e.push(d+c);return _.shuffle(e)};d();let m=()=>{if(0===e.length)throw"No hay mas cartas";let a=e.pop();return a},n=b=>{let a=b.substring(0,b.length-1);return isNaN(a)?"A"===a?11:10:1*a},o=a=>{do{let c=m();i+=n(c),j[1].innerHTML=i;let b=document.createElement("img");if(b.src=`assets/cartas/${c}.png`,b.classList.add("carta"),l.append(b),a>21)break}while(i<a&&a<=21)p(a,i)};a.addEventListener("click",()=>{let c=m();console.log(c),h+=n(c),j[0].innerHTML=h;let d=document.createElement("img");d.src=`assets/cartas/${c}.png`,d.classList.add("carta"),k.append(d),h>21?(a.disabled=!0,b.disabled=!0,o(h)):21===h&&(console.warn("21, Got it!"),a.disabled=!0,b.disabled=!0,o(h))}),b.addEventListener("click",()=>{a.disabled=!0,b.disabled=!0,o(h)});let p=(a,b)=>{setTimeout(()=>{a===b?(alert("Es un empate!"),console.warn("Tie!")):b<21?(alert("Gana la computadora!"),console.warn("Derrota...")):b>21&&(alert("Felicidades, has ganado!"),console.warn("Victoria"))},1e3)};c.addEventListener("click",()=>{console.clear,e=[],e=d(),h=0,i=0,j[0].innerText=0,j[1].innerText=0,k.innerHTML="",l.innerHTML="",b.disabled=!1,a.disabled=!1})})()